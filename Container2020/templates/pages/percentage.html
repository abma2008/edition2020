{% extends 'layout.html' %}
{% load static %}
{% load crispy_forms_tags %}


{% block content %}



<div class="container">
    <!--{% for message in messages %}-->
    <!--<div class="alert alert-warning">-->
    <!--    {{message}}-->
    <!--</div>-->
    <!--{% endfor %}-->
    <div class="card">
        <div class="card-header" style="background-color:bisque;">
            <h4>Showing Percentage Based on Two Dates:</h4>
            <hr>
        </div>
        <form method="POST" action="">
        <div class="card-body">
            {% csrf_token %}
            {{form|crispy}}
        </div>
        <div class="card-footer" style="background-color:bisque;">
            <button type="submit" class="btn">
                <i class="fa fa-question-circle fa-2x" style="color:red;"></i>
            </button>
            <button type="reset" class="btn" style="float:right">
                <i class="fa fa-refresh fa-spin fa-2x" style="color:red;"></i>
            </button>
        </div>
        </form>
    </div>

    <!-- Starting the code of displaying the data from here-->
    {% if percentages %}
    <div class="alert alert-warning d-flex justify-content-left" style="border:2px dotted red;">
    <b>
        <b>Percentage of Type Items:</b>
        <br>
        <b>From </b> <b style="color:red">{{from_date}}</b>

        <b>Until </b><b style="color:red">{{to_date}}</b>
        <br>
        <b>Full Amount: {{full_total}}</b>
    </b>


    <hr>
    </div>
    <div style="overflow-x: auto; border:2px solid bisque">
        <table class="table">
            <tr style="background-color:bisque; border:2px solid bisque; border-radius: 2px solid bisque">
                <th><b>Type Name</b></th>
                <th><b>Percentage</b></th>

            </tr>
            <tr>
            {% for key, value in percentages.items %}
                <td>{{key}}</td>
                <td>{{value}} %</td>
            </tr>
            {% endfor %}
        </table>

    </div>

    {% endif %}


</div>

{% endblock content %}